
<div id="mySidenav" class="sidenav">
  <div class="sidenav-items">
    <% if user_signed_in? %>
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <% if current_user.photo.attached? %>
            <%= cl_image_tag current_user.photo.key, class: "avatar" %>
<% else %>
            <%= image_tag "https://cdn-icons-png.flaticon.com/512/2119/2119043.png", class: "avatar" %>
            <% end %>
      <div class="side-nav-user-info">
        <h6><%= current_user.first_name.capitalize %><h6>
        <p><%= '@' + current_user.username %><p>
      </div>

      <a href="/dashboard" class="sidenav-item"><p><i class="fa-solid fa-user me-2"></i> My Profile</p></a>
      <a href="/polls/new" class="sidenav-item"><p><i class="fa-solid fa-circle-plus me-2"></i> New Poll</p></a>
      <a href="/trending" class="sidenav-item"><p><i class="fa-solid fa-arrow-trend-up me-2"></i> Trending</p></a>
      <a href="/categories" class="sidenav-item"><p><i class="fa-solid fa-list-ul me-2"></i> Categories</p></a>

      <div class="log-out">
        <p><%= link_to "Log out", destroy_user_session_path, data: {turbo_method: :delete}%></p>
      </div>

    <% else %>
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <i class="visitor-avatar fa-solid fa-circle-user"></i>

      <div class="side-nav-user-info">
        <p><%= link_to "Log in / Sign up", new_user_session_path %></p>
      </div>

      <a href="/trending.html" class="sidenav-item"><p><i class="fa-solid fa-arrow-trend-up"></i> Trending</p></a>

    <% end %>
  </div>
</div>

<script>
  /* Set the width of the side navigation to 250px */
  function openNav() {
    document.getElementById("mySidenav").style.width = "250px";
  }

  /* Set the width of the side navigation to 0 */
  function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
  }
</script>
